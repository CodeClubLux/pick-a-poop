<html>
	<head>
		<title>Pick-a-Poop</title>
		<link type="text/css"; rel="stylesheet"; href="style.css"/>
	</head>
	<body>
		<a id="aboutA" href="aboutPage.html"; target="_blank">
		<div id="aboutDiv">
			<img id="aboutImg"; src="Dog_logo_computer_beta.png"/>
		</div>
		</a>
			<h1 class="title">Pick-a-Poop!</h1>
			<pre>
Click the symbol on the map to find the nearest dog poop bag dispenser!
			</pre>

		<div id="mapDiv">
			<script src="http://www.openlayers.org/api/OpenLayers.js"></script>
			<script>
				map = new OpenLayers.Map("mapDiv");
				map.addLayer(new OpenLayers.Layer.OSM());

				var lats = [49.6056053, 49.6022481, 49.6104174, 49.6099997, 49.6100161];
				var lons = [6.1004009, 6.0982424, 6.1119808, 6.1218942, 6.1220134];

				var stats = [1, 1, 1, 1, 1];

         		var zoom = 15;
				
    			var midLat = 49.611649;
    			var midLon = 6.131823;

    			var midLux = new OpenLayers.LonLat(midLon, midLat).transform(
            		new OpenLayers.Projection("EPSG:4326"),
            		map.getProjectionObject()
         		);

         		map.setCenter(midLux, zoom);

         		var Markers = new OpenLayers.Layer.Markers("Markers");

         		var addAllMarks = function() {
					for (var i = 0; i <= lats.length; i++) {
						var curLat = lats[i];
						var curLon = lons[i];
						var curLonLat = new OpenLayers.LonLat(curLon, curLat).transform(
            				new OpenLayers.Projection("EPSG:4326"),
            				map.getProjectionObject()
            			);
						Markers.addMarker(new OpenLayers.Marker(curLonLat));
					}
				};

				addAllMarks();

				map.addLayer(Markers);

				var newDis = function() {
					again:
						var newCordLon = prompt("Lon: ");
					
						var newCordLat = prompt("Lat: ");

						if (isNaN(newCordLon) == true || isNaN(newCordLat) == true) {
							console.log("Add inputs weren't numbers. Cancelling...");
							alert("Please try again.");
						} else {
							console.log("Add inputs were numbers. Adding to map...");
							
							lats[lats.length] = newCordLat;
							lons[lons.length] = newCordLon;

							addAllMarks();
							map.addLayer(Markers);
							console.log("Added new dispenser: Lat: " + newCordLat + ", Lon: " + newCordLon);
						}
				};

				var MEDis = function() {
					
				};

			</script>
		</div>
		<p style="color: lightblue; font-size: 5px">.</p>
		<div class="btm">
			<div class="btm1"; type="button"; onclick="newDis()">
				<p id="addI"; class="I">To report a missing dipenser, press here</p>
				<img src="Dog_logo_computer_beta.png"; id="addImg" />
			</div>	
			<div type="button"; class="btm2"; onclick="MEDis()">
				<p id="MEI"; class="I">To report empty dispenser, press the icon below:</p>
				<img src="Dog_logo_computer_beta.png"; id="addImg" />
			</div>
		</div>
	</body>
</html>